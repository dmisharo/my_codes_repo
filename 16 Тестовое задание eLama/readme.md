# Тестовое задание eLama

**Используя лог.файлы от внутреннего сервиса прогнозирующего временные ряды ответить на вопросы:**
1. Между какими событиями наибольший шаг? Указать пару идентификаторов событий с наибольшим шагом, относительно всей базы (всех файлов).  
2. Интервал времени до наступления какого события показывает наибольший разброс (разброс - это разность между максимальной и минимальной величинами)? Указать пару идентификатор - sender с наибольшим разбросом. Предложить свои идей, с чем это может быть связано.  
3. Какая задача прогнозирования выполняется дольше всего (название задачи)?  
4. Какое количество задач прогнозирования может выполняться одновременно? Указать максимальное число параллельных задач.  
5. Перечислить forecastMarker которые не завершились успешно.

**Дополнительная информация**  
- Для анализа предоставлены примеры лог.файлов (3 шт.) от внутреннего сервиса прогнозирующего временные ряды. 1 день, 1 файл. Сервис используется в eLama ежедневно, обеспечивает порядка 700 прогнозов различных метрик в сутки. События записываются в базу по мере того, как они случаются.  
- Каждый из файлов представляет собой sqlite базу данных.  
- Первое событие для каждой сессии имеет идентификатор 1. Идентификаторы последующих событий не соответствуют последовательности наступления.  
- Шаг событий - это интервал времени между событиями наступающими друг за другом.  
- Задача прогнозирования считается завершенной успешно, если наступило событие с идентификатором 31.  
- Некоторые задачи прогнозирования могут использовать прогнозы по типу рекурсии. Т.е. при построении прогноза запрашивать прогноз другого параметра, как регрессора. Например при построении прогноза активаций пользователей запрашивается подпрогноз с количеством регистраций. Т.к. регистрации напрямую влияют на количество активаций.

**Описание данных**

`event_name` - таблица с именами событий, которые случаются в сервисе
* id - уникальный идентификатор;
* event_name - название события в рамках сервиса прогнозирования

`events` - сам лог событий
* id - идентификатор конкретного факта наступления события;
* forecastMarker - идентификатор задачи прогнозирования (так мы называем общую задачу прогноза конкретного бизнес-показателя. Есть отдельная таблица, где хранятся свойства задач прогнозирования (источники данных, гиперпараметры, регрессоры и т.д.), (необязательное поле);
* request_time - время когда зафиксировано событие;
* event_id - идентификатор события;
* sender - Имя системы поставившей задачу прогнозирования (необязательное поле);
* context - значения переменных или каких-либо параметров, связанных с событием (необязательно поле);
* session_id - идентификатор исполнения конкретной задачи прогнозирования (используется если задача пришла без forecastMarker и sender)